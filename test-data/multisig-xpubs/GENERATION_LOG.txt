================================================================================
TEST XPUB GENERATION LOG
================================================================================

Generation Date: 2025-10-13
Generated By: scripts/generate-test-xpubs.js
Purpose: Testing multisig wallet import functionality

================================================================================
SPECIFICATIONS
================================================================================

Network: Bitcoin Testnet (coin_type = 1)
Address Type: P2WSH (Native SegWit)
Script Type: 2 (BIP48)
Derivation Path: m/48'/1'/0'/2'
Xpub Format: tpub (testnet prefix, version 0x043587cf)

================================================================================
GENERATED FILES
================================================================================

2-of-2 Configuration (1 cosigner file):
  ✓ cosigner-1-2of2-p2wsh.json
    - Fingerprint: 73C5DA0A
    - Mnemonic: abandon abandon... (BIP39 test vector)

2-of-3 Configuration (2 cosigner files):
  ✓ cosigner-1-2of3-p2wsh.json
    - Fingerprint: 73C5DA0A
    - Mnemonic: abandon abandon... (BIP39 test vector)
  ✓ cosigner-2-2of3-p2wsh.json
    - Fingerprint: B8688DF1
    - Mnemonic: legal winner... (BIP39 test vector)

3-of-5 Configuration (4 cosigner files):
  ✓ cosigner-1-3of5-p2wsh.json
    - Fingerprint: 73C5DA0A
    - Mnemonic: abandon abandon... (BIP39 test vector)
  ✓ cosigner-2-3of5-p2wsh.json
    - Fingerprint: B8688DF1
    - Mnemonic: legal winner... (BIP39 test vector)
  ✓ cosigner-3-3of5-p2wsh.json
    - Fingerprint: 28645006
    - Mnemonic: letter advice... (BIP39 test vector)
  ✓ cosigner-4-3of5-p2wsh.json
    - Fingerprint: 3F635A63
    - Mnemonic: zoo zoo... (BIP39 test vector)

Total Files: 7

================================================================================
VALIDATION
================================================================================

✓ All xpubs start with 'tpub' (testnet prefix)
✓ All xpubs have version 0x043587cf (testnet BIP32)
✓ All xpubs are at depth 4 (m/48'/1'/0'/2')
✓ All xpubs use P2WSH script type (index 2147483650 = 2')
✓ All fingerprints are unique per cosigner
✓ JSON format matches XpubExport.tsx specification
✓ Can be parsed with bitcoinjs-lib + bitcoin.networks.testnet

================================================================================
SECURITY WARNING
================================================================================

⚠️  THESE ARE TEST XPUBS ONLY - DO NOT USE WITH REAL BITCOIN!

These xpubs were generated from well-known BIP39 test vectors published in
the BIP39 specification. Anyone can derive the private keys from these
mnemonics. These files are ONLY for testing the wallet extension's multisig
import functionality on Bitcoin testnet.

NEVER use these xpubs or mnemonics with real Bitcoin on mainnet!

================================================================================
USAGE WITH EXTENSION
================================================================================

1. Open Bitcoin Wallet Extension
2. Create new multisig account
3. Select appropriate configuration (2-of-2, 2-of-3, or 3-of-5)
4. Select "P2WSH (Native SegWit)" address type
5. Export your xpub (generates similar JSON file)
6. Import the appropriate cosigner xpub files from this directory
7. Verify fingerprints match the values in this log
8. Complete multisig wallet setup

The extension should:
- Parse the JSON files correctly
- Display the fingerprints
- Validate the xpubs are for testnet
- Validate the derivation path matches
- Validate the address type matches
- Create the multisig wallet with all cosigner xpubs

================================================================================
TECHNICAL NOTES
================================================================================

BIP32 Parsing:
  - Use: bip32.fromBase58(tpub, bitcoin.networks.testnet)
  - The explicit network parameter is required for testnet xpubs
  - Without it, the parser may fail with "Invalid network version"

Fingerprint Calculation:
  - Fingerprint is first 4 bytes of HASH160(root_public_key)
  - Displayed as 8-character uppercase hex string
  - Used to verify key identity across different devices

Derivation Path Format:
  - Apostrophe (') denotes hardened derivation
  - BIP48: m/48'/coin'/account'/script'
  - Hardened indexes: index + 0x80000000 (2147483648)
  - Example: 2' = 2147483650

================================================================================
REGENERATION
================================================================================

To regenerate these files with identical output:

  node scripts/generate-test-xpubs.js

The script uses deterministic BIP39 test vectors, so regeneration will
produce the same xpubs, fingerprints, and files (with updated timestamps).

To modify configurations or add new test cases:
  1. Edit scripts/generate-test-xpubs.js
  2. Add new test mnemonics to testMnemonics array
  3. Add new generateXpubFile() calls in main()
  4. Run the script to regenerate

================================================================================
